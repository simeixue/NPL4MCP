Code2Flow: Found 17 files from sources argument.
Code2Flow: Processing 17 source file(s).
Code2Flow:   /Users/xue/workspace/mcp_project/mcp_server_pyrepos/meilisearch-mcp/src/meilisearch_mcp/__main__.py
Code2Flow:   /Users/xue/workspace/mcp_project/mcp_server_pyrepos/meilisearch-mcp/src/meilisearch_mcp/__version__.py
Code2Flow:   /Users/xue/workspace/mcp_project/mcp_server_pyrepos/meilisearch-mcp/src/meilisearch_mcp/chat.py
Code2Flow:   /Users/xue/workspace/mcp_project/mcp_server_pyrepos/meilisearch-mcp/src/meilisearch_mcp/client.py
Code2Flow:   /Users/xue/workspace/mcp_project/mcp_server_pyrepos/meilisearch-mcp/src/meilisearch_mcp/documents.py
Code2Flow:   /Users/xue/workspace/mcp_project/mcp_server_pyrepos/meilisearch-mcp/src/meilisearch_mcp/indexes.py
Code2Flow:   /Users/xue/workspace/mcp_project/mcp_server_pyrepos/meilisearch-mcp/src/meilisearch_mcp/keys.py
Code2Flow:   /Users/xue/workspace/mcp_project/mcp_server_pyrepos/meilisearch-mcp/src/meilisearch_mcp/logging.py
Code2Flow:   /Users/xue/workspace/mcp_project/mcp_server_pyrepos/meilisearch-mcp/src/meilisearch_mcp/monitoring.py
Code2Flow:   /Users/xue/workspace/mcp_project/mcp_server_pyrepos/meilisearch-mcp/src/meilisearch_mcp/server.py
Code2Flow:   /Users/xue/workspace/mcp_project/mcp_server_pyrepos/meilisearch-mcp/src/meilisearch_mcp/settings.py
Code2Flow:   /Users/xue/workspace/mcp_project/mcp_server_pyrepos/meilisearch-mcp/src/meilisearch_mcp/tasks.py
Code2Flow:   /Users/xue/workspace/mcp_project/mcp_server_pyrepos/meilisearch-mcp/tests/test_chat.py
Code2Flow:   /Users/xue/workspace/mcp_project/mcp_server_pyrepos/meilisearch-mcp/tests/test_docker_integration.py
Code2Flow:   /Users/xue/workspace/mcp_project/mcp_server_pyrepos/meilisearch-mcp/tests/test_mcp_client.py
Code2Flow:   /Users/xue/workspace/mcp_project/mcp_server_pyrepos/meilisearch-mcp/tests/test_server.py
Code2Flow:   /Users/xue/workspace/mcp_project/mcp_server_pyrepos/meilisearch-mcp/tests/test_user_agent.py
Code2Flow: Found groups ['File: __main__', 'File: __version__', 'File: chat', 'Class: ChatManager', 'File: client', 'Class: MeilisearchClient', 'File: documents', 'Class: DocumentManager', 'File: indexes', 'Class: IndexConfig', 'Class: IndexManager', 'File: keys', 'Class: KeyManager', 'File: logging', 'Class: AsyncLogHandler', 'Class: FileLogHandler', 'Class: MCPLogger', 'File: monitoring', 'Class: HealthStatus', 'Class: IndexMetrics', 'Class: MonitoringManager', 'File: server', 'Class: MeilisearchMCPServer', 'File: settings', 'Class: SearchSettings', 'Class: SettingsManager', 'File: tasks', 'Class: TaskManager', 'File: test_chat', 'Class: TestChatTools', 'File: test_docker_integration', 'File: test_mcp_client', 'Class: TestMCPClientIntegration', 'Class: TestMCPToolDiscovery', 'Class: TestMCPConnectionSettings', 'Class: TestIssue16GetDocumentsJsonSerialization', 'Class: TestIssue17DefaultLimitOffset', 'Class: TestIssue23DeleteIndexTool', 'Class: TestIssue27OpenAISchemaCompatibility', 'File: test_server', 'File: test_user_agent'].
Code2Flow: Found nodes ['(global)', '(global)', '(global)', '(global)', '(global)', '(global)', '(global)', '(global)', '(global)', '(global)', '(global)', '(global)', '(global)', '(global)', '(global)', '(global)', '(global)', 'AsyncLogHandler.__init__', 'AsyncLogHandler._worker', 'AsyncLogHandler._write_log', 'AsyncLogHandler.emit', 'AsyncLogHandler.shutdown', 'ChatManager.__init__', 'ChatManager._combine_chunks', 'ChatManager.create_chat_completion', 'ChatManager.get_chat_workspace_settings', 'ChatManager.get_chat_workspaces', 'ChatManager.update_chat_workspace_settings', 'DocumentManager.__init__', 'DocumentManager.add_documents', 'DocumentManager.delete_all_documents', 'DocumentManager.delete_document', 'DocumentManager.delete_documents', 'DocumentManager.get_document', 'DocumentManager.get_documents', 'DocumentManager.update_documents', 'FileLogHandler.__init__', 'FileLogHandler._rotate_file', 'FileLogHandler._write_log', 'IndexManager.__init__', 'IndexManager.create_index', 'IndexManager.delete_index', 'IndexManager.get_index', 'IndexManager.list_indexes', 'IndexManager.swap_indexes', 'IndexManager.update_index', 'KeyManager.__init__', 'KeyManager.create_key', 'KeyManager.delete_key', 'KeyManager.get_key', 'KeyManager.get_keys', 'KeyManager.update_key', 'MCPLogger.__init__', 'MCPLogger._log', 'MCPLogger._setup_logger', 'MCPLogger.debug', 'MCPLogger.error', 'MCPLogger.info', 'MCPLogger.shutdown', 'MCPLogger.warning', 'MeilisearchClient.__init__', 'MeilisearchClient.get_indexes', 'MeilisearchClient.get_stats', 'MeilisearchClient.get_version', 'MeilisearchClient.health_check', 'MeilisearchClient.search', 'MeilisearchMCPServer.__init__', 'MeilisearchMCPServer._setup_handlers', 'MeilisearchMCPServer.cleanup', 'MeilisearchMCPServer.run', 'MeilisearchMCPServer.update_connection', 'MonitoringManager.__init__', 'MonitoringManager.get_health_status', 'MonitoringManager.get_index_metrics', 'MonitoringManager.get_system_information', 'SettingsManager.__init__', 'SettingsManager.get_settings', 'SettingsManager.reset_settings', 'SettingsManager.update_settings', 'TaskManager.__init__', 'TaskManager.cancel_tasks', 'TaskManager.delete_tasks', 'TaskManager.get_task', 'TaskManager.get_tasks', 'TestChatTools.test_chat_completion_error_handling', 'TestChatTools.test_create_chat_completion', 'TestChatTools.test_empty_chat_response', 'TestChatTools.test_get_chat_workspace_settings', 'TestChatTools.test_get_chat_workspaces', 'TestChatTools.test_update_chat_workspace_settings', 'TestIssue16GetDocumentsJsonSerialization.test_connection_settings_validation', 'TestIssue16GetDocumentsJsonSerialization.test_get_documents_returns_json_not_python_object', 'TestIssue16GetDocumentsJsonSerialization.test_update_connection_settings_persistence', 'TestIssue17DefaultLimitOffset.test_get_documents_default_values_applied', 'TestIssue17DefaultLimitOffset.test_get_documents_with_explicit_parameters', 'TestIssue17DefaultLimitOffset.test_get_documents_without_limit_offset_parameters', 'TestIssue23DeleteIndexTool.test_delete_index_input_validation', 'TestIssue23DeleteIndexTool.test_delete_index_integration_workflow', 'TestIssue23DeleteIndexTool.test_delete_index_successful_deletion', 'TestIssue23DeleteIndexTool.test_delete_index_tool_discovery', 'TestIssue23DeleteIndexTool.test_delete_index_with_documents', 'TestIssue23DeleteIndexTool.test_delete_nonexistent_index_behavior', 'TestIssue27OpenAISchemaCompatibility.test_all_schemas_have_additional_properties_false', 'TestIssue27OpenAISchemaCompatibility.test_array_schemas_have_items_property', 'TestIssue27OpenAISchemaCompatibility.test_no_custom_optional_properties', 'TestIssue27OpenAISchemaCompatibility.test_openai_compatible_tool_schema_format', 'TestIssue27OpenAISchemaCompatibility.test_specific_add_documents_schema_compliance', 'TestMCPClientIntegration.test_connection_settings_verification', 'TestMCPClientIntegration.test_health_check_tool', 'TestMCPClientIntegration.test_mcp_server_initialization', 'TestMCPClientIntegration.test_tool_discovery', 'TestMCPClientIntegration.test_tool_error_handling', 'TestMCPClientIntegration.test_tool_schema_validation', 'TestMCPConnectionSettings.test_get_connection_settings_format', 'TestMCPToolDiscovery.test_complete_tool_list', 'TestMCPToolDiscovery.test_tool_categorization', 'assert_text_content_response', 'create_server', 'create_test_index_with_documents', 'docker_available', 'generate_unique_index_name', 'json_serializer', 'main', 'mcp_server', 'serialize_task_results', 'server', 'setup_mock_chat_client', 'simulate_list_tools', 'simulate_mcp_call', 'simulate_tool_call', 'test_docker_build', 'test_docker_image_runs', 'test_meilisearch_client_sets_custom_user_agent', 'test_server_creation', 'test_user_agent_includes_correct_version', 'wait_for_indexing'].
Code2Flow: Found calls ['CallToolRequest()', 'CallToolRequestParams()', 'ChatManager()', 'Client()', 'DocumentManager()', 'Exception()', 'FileLogHandler()', 'HealthStatus()', 'IndexManager()', 'IndexMetrics()', 'InitializationOptions()', 'KeyManager()', 'ListToolsRequest()', 'MCPLogger()', 'MagicMock()', 'MeilisearchApiError()', 'MeilisearchClient()', 'MeilisearchMCPServer()', 'MonitoringManager()', 'NotificationOptions()', 'Path()', 'Queue()', 'RuntimeError()', 'Server()', 'SettingsManager()', 'TaskManager()', 'UNKNOWN_VAR.__init__()', 'UNKNOWN_VAR.get_stats()', 'UNKNOWN_VAR.isoformat()', 'UNKNOWN_VAR.join()', 'UNKNOWN_VAR.strftime()', 'UNKNOWN_VAR.strip()', 'ValueError()', 'all()', 'any()', 'arguments.get()', 'arguments.items()', 'assert_text_content_response()', 'asyncio.run()', 'asyncio.sleep()', 'console_handler.setFormatter()', 'content_parts.append()', 'create_server()', 'create_test_index_with_documents()', 'datetime.fromisoformat()', 'datetime.now()', 'doc.copy()', 'doc_dict.items()', 'docker_available()', 'expected_counts.items()', 'f.write()', 'generate_unique_index_name()', 'getattr()', 'handler()', 'hasattr()', 'index.add_documents()', 'index.delete_all_documents()', 'index.delete_document()', 'index.delete_documents()', 'index.get_document()', 'index.get_documents()', 'index.get_settings()', 'index.get_stats()', 'index.reset_settings()', 'index.search()', 'index.update_documents()', 'index.update_settings()', 'indexes_info.append()', 'int()', 'isinstance()', 'iter()', 'json.dumps()', 'json.loads()', 'key.startswith()', 'kwargs.items()', 'len()', 'level.lower()', 'logger.error()', 'logger.info()', 'logger.warning()', 'logging.Formatter()', 'logging.StreamHandler()', 'logging.getLogger()', 'main()', 'mcp.stdio_server()', 'mock_client.assert_called_once_with()', 'mock_health.assert_called_once()', 'next()', 'obj.isoformat()', 'obj.items()', 'open()', 'os.expanduser()', 'os.getenv()', 'patch()', 'patch.object()', 'print()', 'prop_schema.get()', 'properties.items()', 'pytest.fail()', 'pytest.main()', 'pytest.raises()', 'pytest.skip()', 'pytest.skipif()', 'range()', 'response.get()', 'response_chunks.append()', 'response_text.replace()', 'result.copy()', 'schema.get()', 'search_params.update()', 'self._combine_chunks()', 'self._log()', 'self._rotate_file()', 'self._setup_handlers()', 'self._setup_logger()', 'self._write_log()', 'self.addHandler()', 'self.add_documents()', 'self.call_tool()', 'self.cancel_tasks()', 'self.create_chat_completion()', 'self.create_index()', 'self.create_key()', 'self.delete_index()', 'self.delete_key()', 'self.delete_tasks()', 'self.emit()', 'self.error()', 'self.get()', 'self.get_all_stats()', 'self.get_capabilities()', 'self.get_chat_workspace_settings()', 'self.get_chat_workspaces()', 'self.get_documents()', 'self.get_health_status()', 'self.get_index()', 'self.get_index_metrics()', 'self.get_indexes()', 'self.get_key()', 'self.get_keys()', 'self.get_settings()', 'self.get_stats()', 'self.get_system_information()', 'self.get_task()', 'self.get_tasks()', 'self.get_version()', 'self.health()', 'self.health_check()', 'self.index()', 'self.info()', 'self.join()', 'self.list_tools()', 'self.mkdir()', 'self.put()', 'self.run()', 'self.search()', 'self.setLevel()', 'self.shutdown()', 'self.start()', 'self.swap_indexes()', 'self.update_chat_workspace_settings()', 'self.update_connection()', 'self.update_index()', 'self.update_key()', 'self.update_settings()', 'serialize_task_results()', 'serialized_indexes.append()', 'serialized_results.append()', 'server._MeilisearchMCPServer__handle_call_tool()', 'server.call_tool()', 'server.cleanup()', 'server.create_chat_completion()', 'server.get()', 'server.get_chat_workspace_settings()', 'server.get_chat_workspaces()', 'server.items()', 'server.run()', 'server.update_chat_workspace_settings()', 'shutil.which()', 'simulate_list_tools()', 'simulate_mcp_call()', 'stats.get()', 'stats.replace()', 'str()', 'subprocess.run()', 'super()', 'threading.Thread()', 'time.time()', 'types.TextContent()', 'types.Tool()', 'wait_for_indexing()', 'workspaces.get()'].
Code2Flow: Found variables ['Any->UNKNOWN_MODULE', 'AsyncMock->UNKNOWN_MODULE', 'CallToolRequest->UNKNOWN_MODULE', 'CallToolRequestParams->UNKNOWN_MODULE', 'ChatManager->ChatManager', 'Client->UNKNOWN_MODULE', 'Dict->UNKNOWN_MODULE', 'DocumentManager->DocumentManager', 'IndexManager->IndexManager', 'InitializationOptions->UNKNOWN_MODULE', 'Iterator->UNKNOWN_MODULE', 'KeyManager->KeyManager', 'List->UNKNOWN_MODULE', 'ListToolsRequest->UNKNOWN_MODULE', 'MCPLogger->MCPLogger', 'MagicMock->UNKNOWN_MODULE', 'MeilisearchApiError->UNKNOWN_MODULE', 'MeilisearchClient->MeilisearchClient', 'MeilisearchClient->UNKNOWN_MODULE', 'MeilisearchMCPServer->UNKNOWN_MODULE', 'Mock->UNKNOWN_MODULE', 'MonitoringManager->MonitoringManager', 'NotificationOptions->UNKNOWN_MODULE', 'Optional->UNKNOWN_MODULE', 'Path->UNKNOWN_MODULE', 'Queue->UNKNOWN_MODULE', 'Server->UNKNOWN_MODULE', 'SettingsManager->SettingsManager', 'TaskManager->TaskManager', 'Union->UNKNOWN_MODULE', '__init__->__init__', '__version__->UNKNOWN_MODULE', '_worker->_worker', '_write_log->_write_log', 'add_docs_tool-><Call owner_token=None token=next>', 'api_key-><Call owner_token=os token=getenv>', 'asyncio->UNKNOWN_MODULE', 'build_result-><Call owner_token=subprocess token=run>', 'client->MeilisearchClient', 'console_handler-><Call owner_token=logging token=StreamHandler>', 'create_index_tool-><Call owner_token=None token=next>', 'create_server->UNKNOWN_MODULE', 'current_date-><Call owner_token=UNKNOWN_VAR token=strftime>', 'dataclass->UNKNOWN_MODULE', 'date_str-><Call owner_token=UNKNOWN_VAR token=strftime>', 'datetime->UNKNOWN_MODULE', 'delete_tool-><Call owner_token=None token=next>', 'doc_dict-><Call owner_token=doc token=copy>', 'docs_text-><Call owner_token=None token=assert_text_content_response>', 'documents-><Call owner_token=self token=get_documents>', 'emit->emit', 'formatted_json-><Call owner_token=json token=dumps>', 'formatted_results-><Call owner_token=json token=dumps>', 'formatter-><Call owner_token=logging token=Formatter>', 'full_response-><Call owner_token=self token=_combine_chunks>', 'handler-><Call owner_token=server token=get>', 'httpx->UNKNOWN_MODULE', 'index-><Call owner_token=self token=index>', 'index_stats-><Call owner_token=UNKNOWN_VAR token=get_stats>', 'indexes-><Call owner_token=self token=get_indexes>', 'info-><Call owner_token=self token=get_system_information>', 'is_healthy-><Call owner_token=self token=health_check>', 'json->UNKNOWN_MODULE', 'json_part-><Call owner_token=UNKNOWN_VAR token=strip>', 'key-><Call owner_token=self token=create_key>', 'keys-><Call owner_token=self token=get_keys>', 'limit-><Call owner_token=arguments token=get>', 'list_text-><Call owner_token=None token=assert_text_content_response>', 'list_text_after-><Call owner_token=None token=assert_text_content_response>', 'log_dir-><Call owner_token=os token=expanduser>', 'logger->MCPLogger', 'logging->logging', 'main->main', 'mcp.server.stdio->UNKNOWN_MODULE', 'metrics-><Call owner_token=self token=get_index_metrics>', 'mock_client-><Call owner_token=None token=MagicMock>', 'mock_request-><Call owner_token=None token=MagicMock>', 'nonexistent_index-><Call owner_token=None token=generate_unique_index_name>', 'offset-><Call owner_token=arguments token=get>', 'os->UNKNOWN_MODULE', 'parsed_data-><Call owner_token=json token=loads>', 'patch->UNKNOWN_MODULE', 'properties-><Call owner_token=schema token=get>', 'pytest->UNKNOWN_MODULE', 'pytestmark-><Call owner_token=pytest token=skipif>', 'record-><Call owner_token=self token=get>', 'request-><Call owner_token=None token=CallToolRequest>', 'request-><Call owner_token=None token=ListToolsRequest>', 'response-><Call owner_token=self token=health>', 'response_text-><Call owner_token=None token=assert_text_content_response>', 'result-><Call owner_token=index token=get_documents>', 'result-><Call owner_token=self token=add_documents>', 'result-><Call owner_token=self token=cancel_tasks>', 'result-><Call owner_token=self token=create_index>', 'result-><Call owner_token=self token=delete_index>', 'result-><Call owner_token=self token=delete_tasks>', 'result-><Call owner_token=self token=update_settings>', 'result-><Call owner_token=subprocess token=run>', 'result_dict-><Call owner_token=result token=copy>', 'search_after_text-><Call owner_token=None token=assert_text_content_response>', 'search_result-><Call owner_token=index token=search>', 'search_results-><Call owner_token=self token=search>', 'search_text-><Call owner_token=None token=assert_text_content_response>', 'search_tool-><Call owner_token=None token=next>', 'self->AsyncLogHandler', 'self->ChatManager', 'self->DocumentManager', 'self->FileLogHandler', 'self->IndexManager', 'self->KeyManager', 'self->MCPLogger', 'self->MeilisearchClient', 'self->MeilisearchMCPServer', 'self->MonitoringManager', 'self->SettingsManager', 'self->TaskManager', 'self->TestChatTools', 'self->TestIssue16GetDocumentsJsonSerialization', 'self->TestIssue17DefaultLimitOffset', 'self->TestIssue23DeleteIndexTool', 'self->TestIssue27OpenAISchemaCompatibility', 'self->TestMCPClientIntegration', 'self->TestMCPConnectionSettings', 'self->TestMCPToolDiscovery', 'server-><Call owner_token=None token=create_server>', 'settings-><Call owner_token=self token=get_chat_workspace_settings>', 'settings-><Call owner_token=self token=get_settings>', 'shutdown->shutdown', 'shutil->UNKNOWN_MODULE', 'stats-><Call owner_token=index token=get_stats>', 'stats-><Call owner_token=self token=get_all_stats>', 'stats-><Call owner_token=self token=get_stats>', 'status-><Call owner_token=self token=get_health_status>', 'subprocess->UNKNOWN_MODULE', 'sys->UNKNOWN_MODULE', 'task-><Call owner_token=self token=get_task>', 'tasks-><Call owner_token=self token=get_tasks>', 'test_index-><Call owner_token=None token=generate_unique_index_name>', 'text-><Call owner_token=None token=assert_text_content_response>', 'threading->UNKNOWN_MODULE', 'time->UNKNOWN_MODULE', 'timezone->UNKNOWN_MODULE', 'types->UNKNOWN_MODULE', 'update_text-><Call owner_token=None token=assert_text_content_response>', 'updated_settings-><Call owner_token=self token=update_chat_workspace_settings>', 'url-><Call owner_token=os token=getenv>', 'verify_text-><Call owner_token=None token=assert_text_content_response>', 'version-><Call owner_token=self token=get_version>', 'workspaces-><Call owner_token=self token=get_chat_workspaces>'].
Code2Flow: Skipped processing these calls because the algorithm linked them to multiple function definitions: ['UNKNOWN_VAR.__init__()', 'self.shutdown()'].
Code2Flow: Generating output file...
Code2Flow: Wrote output file '/Users/xue/workspace/mcp_project/NPL4MCP/results/py_cg/meilisearch-mcp/cg_py.json' with 116 nodes and 221 edges.
Code2Flow: Code2flow finished processing in 0.07 seconds.
